---
title: 字体配置
description: 使用 next/font 配置 Google 字体和本地字体
---

## next/font 简介

Next.js 内置了 `next/font`，可以自动优化字体加载：

- **自动托管** - 字体文件在构建时下载，与网站一起部署
- **无布局偏移** - 使用 CSS `size-adjust` 属性避免布局偏移
- **隐私保护** - 不向 Google 发送任何请求

## 使用 Google 字体

Next.js 直接支持所有 [Google Fonts](https://fonts.google.com/)。

### 基础用法

```tsx
// src/app/layout.tsx
import type { Metadata } from "next";
import { Comforter } from "next/font/google";
import "./globals.css";

const comforter = Comforter({ weight: ["400"], subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={comforter.className}>{children}</body>
    </html>
  );
}
```

### 配置选项

```tsx
import { Inter } from "next/font/google";

const inter = Inter({
  weight: ["400", "500", "700"],  // 字重
  style: ["normal", "italic"],    // 样式
  subsets: ["latin"],             // 字符集
  display: "swap",                // 显示策略
  variable: "--font-inter",       // CSS 变量名
});
```

| 选项 | 说明 |
|------|------|
| `weight` | 字重，如 `["400", "700"]` 或 `"variable"` |
| `style` | 样式，`"normal"` 或 `"italic"` |
| `subsets` | 字符子集，如 `["latin", "latin-ext"]` |
| `display` | font-display 属性，默认 `"swap"` |
| `variable` | CSS 变量名，用于 Tailwind CSS |

### 可变字体

使用可变字体（Variable Font）只需设置 `weight: "variable"`：

```tsx
import { Inter } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  // 可变字体不需要指定具体字重
});
```

## 多字体配置

### 全局 + 局部字体

```tsx
// src/app/layout.tsx
import { Inter, Roboto_Mono } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  variable: "--font-inter",
});

const robotoMono = Roboto_Mono({
  subsets: ["latin"],
  variable: "--font-roboto-mono",
});

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className={`${inter.variable} ${robotoMono.variable}`}>
      <body className={inter.className}>{children}</body>
    </html>
  );
}
```

### 在特定组件使用

```tsx
// src/components/code-block.tsx
import { Roboto_Mono } from "next/font/google";

const robotoMono = Roboto_Mono({ subsets: ["latin"] });

export default function CodeBlock({ code }: { code: string }) {
  return (
    <pre className={robotoMono.className}>
      <code>{code}</code>
    </pre>
  );
}
```

## 配合 Tailwind CSS

### 设置 CSS 变量

```tsx
// src/app/layout.tsx
import { Inter } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  variable: "--font-inter",
});

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className={inter.variable}>
      <body>{children}</body>
    </html>
  );
}
```

### 配置 Tailwind

```js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      fontFamily: {
        sans: ["var(--font-inter)", "system-ui", "sans-serif"],
        mono: ["var(--font-roboto-mono)", "monospace"],
      },
    },
  },
};
```

### 使用

```tsx
<p className="font-sans">使用 Inter 字体</p>
<code className="font-mono">使用 Roboto Mono 字体</code>
```

## 使用本地字体

使用 `next/font/local` 加载本地字体文件：

```tsx
// src/app/layout.tsx
import localFont from "next/font/local";

const myFont = localFont({
  src: "./fonts/MyFont.woff2",
  display: "swap",
});

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={myFont.className}>{children}</body>
    </html>
  );
}
```

### 多字重本地字体

```tsx
import localFont from "next/font/local";

const myFont = localFont({
  src: [
    {
      path: "./fonts/MyFont-Regular.woff2",
      weight: "400",
      style: "normal",
    },
    {
      path: "./fonts/MyFont-Bold.woff2",
      weight: "700",
      style: "normal",
    },
    {
      path: "./fonts/MyFont-Italic.woff2",
      weight: "400",
      style: "italic",
    },
  ],
});
```

## 中文字体

对于中文项目，可以使用 Google 的中文字体：

```tsx
import { Noto_Sans_SC } from "next/font/google";

const notoSansSC = Noto_Sans_SC({
  weight: ["400", "500", "700"],
  subsets: ["latin"],
  // 中文字体文件较大，建议按需加载
});
```

:::tip[提示]
中文字体文件通常较大，建议：
1. 只加载需要的字重
2. 考虑使用 `display: "swap"` 避免阻塞渲染
3. 或使用本地字体配合字体子集化工具
:::

## 常用 Google 字体推荐

| 字体名 | 类型 | 导入名 |
|--------|------|--------|
| Inter | 无衬线 | `Inter` |
| Roboto | 无衬线 | `Roboto` |
| Open Sans | 无衬线 | `Open_Sans` |
| Lato | 无衬线 | `Lato` |
| Roboto Mono | 等宽 | `Roboto_Mono` |
| Fira Code | 等宽 | `Fira_Code` |
| Noto Sans SC | 中文 | `Noto_Sans_SC` |

浏览更多字体：[Google Fonts](https://fonts.google.com/)
